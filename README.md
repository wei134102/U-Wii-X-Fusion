# U-Wii-X Fusion

多合一游戏管理工具，支持 **Wii / NGC** 与 **Wii U** 游戏列表管理、拷贝、数据库查询及封面预览。

![截图](https://github.com/wei134102/U-Wii-X-Fusion/blob/main/%E6%8D%95%E8%8E%B7.PNG)

**作者**: B站 86年复古游戏厅

---

## 功能概览

| 模块 | 功能 |
|------|------|
| **设置** | 通用设置、路径（游戏/数据库/封面/Wii U 封面）、网络（API 密钥、代理） |
| **Wii / NGC** | 目录/磁盘双盘列表、添加/选择/拷贝/重命名、游戏数据库查询、封面预览 |
| **Wii U** | 目录列表、添加/选择/拷贝到 install（本体+DLC+升级档）、游戏数据库查询、封面预览 |
| **更新** | 基于 GitHub Releases 的检查更新与自动更新 |

---

## 设置

- **通用设置**：启用自动更新、日志记录、启动时检查设备。
- **路径设置**：游戏存储路径、数据库路径、封面存储路径、Wii U 封面路径（不填则使用通用封面路径）。
- **网络设置**：元数据 API 密钥、启用代理。
- 点击 **保存设置** 写入配置。

---

## Wii / NGC 游戏管理

### 列表来源

- **目录**：从本地目录扫描游戏（支持添加多个目录）。
- **磁盘1 / 磁盘2**：从已选盘符的 `wbfs` / `games` 扫描，可切换两套列表分别管理。

### 添加与列表

- **添加** → 添加文件（.iso / .wbfs 等）或 **添加目录**（递归扫描）。
- **列表** → **清空列表**：清空当前列表；**刷新列表**：刷新显示与统计。

### 选择与批量操作

- **选择** 菜单：
  - 全选 / 反选 / 取消选择
  - **磁盘1中没有的项** / **磁盘2中没有的项**：勾选“目标盘没有”的游戏，便于补拷
  - **导出列表** / **导入列表**：保存或恢复勾选列表（文本）
- **删除选中游戏**：从列表中移除勾选项（可选同时删除磁盘上的文件）。
- **拷贝** 菜单：
  - **拷贝到磁盘1** / **拷贝到磁盘2**：将勾选游戏拷贝到对应盘的 `wbfs`（Wii）或 `games`（NGC），已存在同 ID 则跳过；使用 **Windows 自带拷贝进度窗口**。
  - 转换为 WBFS / 转换为 ISO（仅 Wii，功能占位）。
- **游戏重命名**：将选中游戏按「中文名 [ID]\ID.扩展名」规则重命名并整理到文件夹。

### 游戏数据库查询

- 点击 **Wii游戏数据库查询** 打开查询窗口：
  - 数据来源：`Data/wiitdb.xml`、`Data/gametitle.txt`
  - 支持按 ID/名称搜索，按类型、平台、人数、控制器、区域筛选
  - 列表 + 封面预览（2D/3D/disc/full）+ 游戏详情
  - 封面路径使用设置中的「封面存储路径」

### 右侧信息

- 选中游戏后显示 **Disc 封面**、**3D 封面** 及游戏简介/信息（来自数据库）。

---

## Wii U 游戏管理

### 添加与列表

- **添加** → 添加文件（.wud / .wux / .rpx）或 **添加目录**（递归扫描含 `title.tmd` 的文件夹）。
- **列表** → **清空列表** / **刷新列表**：同 Wii。

### 选择与拷贝

- **选择**：全选 / 反选 / 取消选择。
- **删除选中**：从列表中移除勾选项。
- **拷贝**：
  - 选择目标分区根目录，程序会拷贝到该分区下的 **install** 文件夹。
  - **完整游戏数据**：同一游戏若包含 **本体 + DLC + 升级档**（同父目录下多个 title 文件夹），会一并拷贝；已存在于 install 的文件夹会**自动跳过**，只拷贝缺失部分（补全）。
  - **需占用空间**：仅统计本次将要拷贝的部分（已存在的不会重复计入）。
  - 使用 **Windows 自带拷贝进度窗口** 显示进度。

### 游戏数据库查询

- 点击 **Wii U 游戏数据库** 打开查询窗口：
  - 数据来源：`Data/wiiutdb.xml`、`Data/gametitle_wiiu.txt`
  - 功能与 Wii 查询窗口一致：搜索、筛选、列表、封面（2D/3D/disc/full，支持 png 与 jpg）、游戏详情。
  - 封面路径优先使用设置中的「Wii U 封面路径」，未设置则使用通用封面路径。

### 右键菜单与右侧信息

- 列表右键：**搜索游戏视频**（跳转 YouTube）、**打开游戏位置**。
- 选中游戏后显示 Disc 封面、3D 封面及游戏简介。

---

## 数据文件说明（Data 目录）

程序依赖以下数据文件（随项目或发布包提供，部分需自行更新）：

| 文件 | 用途 |
|------|------|
| `wiitdb.xml` | Wii/NGC 游戏数据库（GameTDB） |
| `gametitle.txt` | Wii/NGC 中文名 |
| `wiiutdb.xml` | Wii U 游戏数据库（GameTDB） |
| `gametitle_wiiu.txt` | Wii U 中文名 |
| `wiiu_titles.json` | Wii U TitleId → 游戏 ID / 中英文名 |
| `wiiu_games.json` | Wii U TitleId → ProductCode 等 |

---

## 检查更新

- 标题栏 **检查更新**：手动检查 GitHub Releases 是否有新版本。
- 设置中勾选 **启用自动更新** 后，启动约 3 秒会自动检查。
- 详细说明见 [UPDATE_GUIDE.md](UPDATE_GUIDE.md)。

---

## 运行要求

- Windows，.NET Framework 4.8
- 拷贝到磁盘或 install 时需目标盘可写；大量拷贝建议使用外置硬盘或 NAS 挂载盘

---

## 项目结构（简要）

- `MainWindow.xaml(.cs)`：主界面（设置 / Wii / Wii U / Xbox 标签页）。
- `WiiGameQueryWindow` / `WiiUGameQueryWindow`：Wii / Wii U 游戏数据库查询窗口。
- `Core/`：游戏识别（Wii/NGC/WiiU 等）、设置、更新服务。
- `Database/Local/`：本地数据库（WiiGameDatabase、WiiUGameDatabase 等）。
- `Data/`：wiitdb、wiiutdb、gametitle 等数据文件。

---

## 许可证与致谢

- 游戏数据来源于 [GameTDB](https://www.gametdb.com/) 及社区整理的中文名等。
- 本项目仅供学习与个人使用，请勿用于商业或传播未授权游戏内容。

Copyright © 2026
